# Предсказание типа личности и рекомендации по профессиям с использованием моделей OCEAN, MBTI и Тёмной триады

## Обзор проекта

Этот проект направлен на предсказание типа личности человека на основе модели OCEAN, используя несколько доменов. Решение является прозрачным и обеспечивает высокую скорость работы — примерно 1 секунда на видео (отметим, что модель квантована). Также был собран список профессий, сопоставленных с типами личности OCEAN, MBTI и Тёмной триады.

## Функциональные особенности и техническое решение

1. ### Мультимодальная модель анализа личности
   Модель обрабатывает три типа данных (текст, аудио, видео), что позволяет точно анализировать личностные характеристики по системе **OCEAN** и преобразовывать их в **MBTI**. Такой подход обеспечивает:
   - Глубокое понимание контекста,
   - Высокую устойчивость к шуму,
   - Повышенную интерпретацию эмоций.
   - Обеспечивает прозрачность решений.

2. ### Трансформация OCEAN в MBTI и «Темную триаду»
   На основе эмпирических данных и распределений **OCEAN** по каждому из типов **MBTI** реализована точная конвертация:
   - Собран и обработан список профессий.
   - Профессии сопоставлены с типами личности OCEAN и MBTI.
   - Для MBTI — используем пороговые значения, коррелирующие с OCEAN,
   - Для «Темной триады» — коэффициенты для каждой характеристики OCEAN, чтобы строить профиль по каждому признаку.

4. ### Скорость работы модели
   Высокая скорость обработки (~1 секунда на видео) благодаря оптимизированной квантованной модели. Подходит для работы с большими массивами данных, что критично для быстрого подбора и ранжирования.

5. ### Двухэтапное ранжирование вакансий
   Используем поиск **BM25** для текстового анализа вакансий и персонализируем ранжирование с помощью оценки OCEAN. Это позволяет находить наиболее релевантные вакансии для каждого кандидата.

---

## Killer-фичи проекта
- **Преобразование OCEAN в MBTI и Dark Triad**: Научно обоснованное и точное преобразование позволяет расширить варианты анализа.
- **Мультимодальный подход**: Анализ видео, аудио и текста обеспечивает максимальную точность в оценке.
- **Двухэтапное ранжирование вакансий**: Технология, повышающая релевантность рекомендаций.

---

## Стек технологий
- Python, PyTorch, OpenCV, Librosa, Whisper, Streamlit
- SQLite, SQLAlchemy
- Transformers, FaceNet, MTCNN, Catboost, Sber LightAutoML

---

## Уникальность решения
Проект выделяется благодаря точной интеграции трёх модальностей, возможности перевода системы OCEAN в MBTI и тёмную триаду, а также высокому уровню интерпретируемости для всех участников процесса (работодателя и кандидата).
---

### Графический интерфейс

#### Для работника
- Личный кабинет для загрузки видео.
- Получение текстовой обратной связи.
- Просмотр рекомендаций по профессиям с ранжированным списком вакансий.
- Дополнительная функция: возможность заработка на платформе.

#### Для работодателя
- Админ-панель для загрузки ряда видео.
- Указание желаемой профессии и искомого типа личности.
- Получение ранжированного списка кандидатов.

### Перевод OCEAN в систему MBTI и другие
- Перевод результатов в типы MBTI.
- Конвертация в другие системы оценки личности.
- Текстовое объяснение сильных и слабых сторон пользователя.

## Структура проекта
```
model/         — модель предсказания типа личности.
professions/   — сопоставление профессий.
translation/   — инструменты для перевода между системами OCEAN, MBTI и другими.
app_with_model.py - приложение с предсказанием модели (длительная инициализация, требования к оперативной памяти)
app.py         — основное приложение
```

## Установка и запуск

Инструкции по установке и запуску проекта будут предоставлены в последующих разделах.

# FFmpeg и ffmpeg-python

## Что такое FFmpeg?

FFmpeg — это мощный инструмент для обработки мультимедийных файлов. Он позволяет выполнять множество операций с аудио и видео.

## Что такое ffmpeg-python?

ffmpeg-python — это Python-библиотека, которая предоставляет удобный интерфейс для использования возможностей FFmpeg из Python-кода. Она позволяет легко интегрировать функции обработки медиа в свои приложения.

# Установка FFmpeg

## macOS

1. Установите Homebrew (если он еще не установлен):
   ```bash
   /bin/bash -c "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh)»```
   
2. Установите FFmpeg:
   ```bash
   brew install ffmpeg```
   
3. Проверьте установку:
   ```bash
   ffmpeg -version```
   
## Windows

1. Скачайте FFmpeg:
   Перейдите на официальный сайт FFmpeg и выберите версию для Windows. Рекомендуется использовать сборку от gyan.dev или другой надежный источник.

2. Распакуйте архив:
   После загрузки архива (обычно в формате .zip), распакуйте его.

3. Добавьте FFmpeg в PATH:

   - Нажмите ```Win + R```, введите sysdm.cpl и нажмите Enter.
   - Перейдите на вкладку "Дополнительно" и нажмите "Переменные среды".
   - В разделе "Системные переменные" найдите переменную Path, выберите ее и нажмите "Изменить".
   - Нажмите "Создать" и добавьте путь к папке bin внутри директории FFmpeg, например: C:ffmpegbin.
   - Нажмите "OK", чтобы сохранить изменения.

4. Проверьте установку:
   Откройте командную строку (CMD) и введите:
   ```bash
   ffmpeg -version```
      Если установка прошла успешно, вы увидите информацию о версии FFmpeg.

## Linux

Для установки FFmpeg на Linux используйте пакетный менеджер вашей дистрибуции:
```bash
sudo apt-get install ffmpeg
```

# Установка библиотеки ffmpeg-python

После установки FFmpeg вы можете установить библиотеку ffmpeg-python через pip:
```bash
pip install ffmpeg-python
```

Готово. Теперь можно пользоваться приложением.

> **Примечание:** FFmpeg нужен для запуска Streamlit, не забудьте об этом!


# Запуск Docker-контейнера

## Требования
- **Docker** — убедитесь, что Docker установлен на вашем устройстве. Если Docker не установлен, загрузите его с официального сайта: [Docker](https://www.docker.com/products/docker-desktop).

## Установка и Запуск

1. **Клонируйте репозиторий**:
    ```bash
    git clone https://github.com/nZiben/video_cv_matching.git
    cd video_cv_matching
    ```

2. **Соберите Docker-образ**:
    ```bash
    docker build -t video_cv_matching_image .
    ```

3. **Запустите Docker-контейнер**:
    ```bash
    docker run -p 8501:8501 video_cv_matching_image
    ```

4. **Откройте приложение**:
    - Перейдите в браузер и откройте [http://localhost:8501](http://localhost:8501), чтобы увидеть интерфейс приложения.

## Остановка и Перезапуск контейнера

### Остановка контейнера

1. Откройте новый терминал.
2. Введите команду, чтобы узнать ID запущенного контейнера:
    ```bash
    docker ps
    ```
3. Используйте команду `docker stop`, чтобы остановить контейнер:
    ```bash
    docker stop <CONTAINER_ID>
    ```
   Замените `<CONTAINER_ID>` на ID вашего контейнера.

### Перезапуск существующего контейнера

Чтобы перезапустить ранее остановленный контейнер:

1. Найдите его `CONTAINER ID` или имя с помощью:
    ```bash
    docker ps -a
    ```

2. Затем используйте команду:
    ```bash
    docker start <CONTAINER_ID или имя>
    ```

### Перезапуск контейнера с пересборкой

Если вам нужно внести изменения в образ и заново собрать контейнер:

1. Пересоберите образ:
    ```bash
    docker build -t video_cv_matching_image .
    ```

2. Запустите контейнер заново:
    ```bash
    docker run -p 8501:8501 video_cv_matching_image
    ```

## Дополнительно

- **Обновление зависимостей**: если вы изменяете зависимости, не забудьте обновить `requirements.txt` перед пересборкой образа.
- **Использование Docker Compose**: если проект требует нескольких сервисов, можно добавить файл `docker-compose.yml` для упрощения запуска.
